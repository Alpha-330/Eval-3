<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <p>Rock Paper Scissor</p>

  <button onclick="playGame('Rock')">
    Rock
  </button>

  <button onclick="playGame('Paper')">
    Paper
  </button>

  <button onclick="playGame('Scissor')">
    Scissor
  </button>
  <button onclick="
  score.wins = 0
  score.losses = 0
  score.ties = 0
  localStorage.removeItem('score')
  ">
    Reset Score
  </button>

  <script>
    let score = JSON.parse(localStorage.getItem('score'));
    
    if (score == null){
      score= {
      wins : 0,
      losses : 0,
      ties : 0
      };
    }

    function playGame(playerMove){

      const computerMOve = pickComputerMove();
      let result ='';
      if (playerMove ==='Paper'){

        if(computerMOve === 'Paper'){
          result = 'Tie.';
        }else if(computerMOve === 'Scissor'){
          result = 'You Lose.';
        }else if(computerMOve === 'Rock'){
          result = 'You Win.';
        }

      }
      if (playerMove === "Scissor"){
        
        if(computerMOve === 'Scissor'){
          result = 'Tie.';
        }else if(computerMOve === 'Rock'){
          result = 'You Lose.';
        }else if(computerMOve === 'Paper'){
          result = 'You Win.';
        }

      }
      if(playerMove == 'Rock'){
        
        if(computerMOve === 'Rock'){
          result = 'Tie.';
        }else if(computerMOve === 'Scissor'){
          result = 'You Win.';
        }else if(computerMOve === 'Paper'){
          result = 'You Lose.'; 
        }
        
      }

      if (result === 'You Win.'){
        score.wins = score.wins + 1;
      }
      else if (result === 'You Lose.'){
        score.losses = score.losses + 1;
      }
      else if (result === 'Tie.'){
        score.ties = score.ties + 1;
      }

      localStorage.setItem('score',JSON.stringify(score));

      alert(`You picked ${playerMove} .Computer picked ${computerMOve} ${result}\nWins : ${score.wins}, Losses : ${score.losses},Ties : ${score.ties}`);
    }


    let computerMOve = ''
    function pickComputerMove(){
      const randomNumber = Math.random();

      if (randomNumber >= 0 && randomNumber < 1/3){
        computerMOve = 'Rock';
      }else if(randomNumber >= 1/3 && randomNumber < 2/3){
        computerMOve ='Paper';
      }else if(randomNumber >= 2/3 && randomNumber < 1){
        computerMOve = 'Scissor';
      } 

      return computerMOve;
    }

  </script>
</body>
</html>